### 오늘 한 일
- 모던 자바스크립트 Deep Dive
24. 클로저
___
### 배운 것
- **렉시컬 스코프** : 렉시컬 환경의 외부 렉시컬 환경에 대한 참조에 저장할 참조값, 즉 상위 스코프에 대한 참조가 함수 정의가 평가되는 시점에 함수가 '정의'된 위치에 의해 결정됨
- 함수는 자신의 내부 슬롯 [[Environment]]에 자신이 정의된 환경, 즉 상위 스코프를 저장한다
- **클로저(Closure)** : 외부 함수보다 중첩 함수가 더 오래 유지되는 경우 중첩 함수는 이미 생명주기가 종료한 외부 함수의 변수를 참조할 수 있음
- 클로저는 중첩 함수가 상위 스코프의 식별자를 참조하고 있고 중첩 함수가 외부 함수보다 더 오래 유지되는 경우에 한정하는 것이 일반적이다
- 다만 자바스크립트 엔진은 상위 스코프의 식별자 중에서 클로저가 참조하고 있는 식별자만 기억한다. 이처럼 클로저에 의해 참조되는 상위 스코프의 변수를 **자유 변수**라고 한다
- 클로저는 상태(state)가 의도치 않게 변경되지 않도록 안전하게 은닉하고 특정 함수에게만 상태 변경을 허용하여 상태를 안전하게 변경/유지하기 위해 사용한다
- let이나 const 키워드를 사용하는 반복문은 코드블록을 반복 실행할 때마다 새로운 렉시컬 환경을 생성하여 반복할 당시의 상태를 저장한다
